---
title: 关系型数据库与NoSQL的爱恨情仇
date: 2015-05-20 13:18:17
tags:
- nosql
categories:
- DB
---

# NoSQL因关系数据库的不足而生

随着互联网的不断发展，各种类型的应用层出不穷，所以导致在这个云计算的时代，

对技术提出了更多的需求，主要体现在下面这四个方面：

- 低延迟的读写速度：应用快速地反应能极大地提升用户的满意度; 
- 支撑海量的数据和流量：对于搜索这样大型应用而言，需要利用PB级别的数据和能应对百万级的流量; 
- 大规模集群的管理：系统管理员希望分布式应用能更简单的部署和管理;

庞大运营成本的考量：IT经理们希望在硬件成本、软件成本和人力成本能够有大幅度地降低;

目前世界上主流的存储系统大部分还是采用了关系型数据库，其主要有一下优点：

- 事务处理—保持数据的一致性；
- 由于以标准化为前提，数据更新的开销很小（相同的字段基本上只有一处）；
- 可以进行Join等复杂查询。

虽然关系型数据库已经在业界的数据存储方面占据不可动摇的地位，但是由于其天生的几个限制，

使其很难满足上面这几个需求： 

-  扩展困难：由于存在类似Join这样多表查询机制，使得数据库在扩展方面很艰难; 
-  读写慢：这种情况主要发生在数据量达到一定规模时由于关系型数据库的系统逻辑非常复杂，使得其非常容易发生死锁等的并发问题，所以导致其读写速度下滑非常严重; 
-  成本高：企业级数据库的License价格很惊人，并且随着系统的规模，而不断上升; 
-  有限的支撑容量：现有关系型解决方案还无法支撑Google这样海量的数据存储; 


> 业界为了解决上面提到的几个需求，推出了多款新类型的数据库，并且由于它们在设计上和传统的NoSQL数据库相比有很大的不同，
所以被统称为“NoSQL”系列数据库。

总的来说，在设计上，它们非常关注对数据高并发地读写和对海量数据的存储等，与关系型数据库相比，它们在架构和数据模型方量面做了“减法”，

而在扩展和并发等方面做了“加法”。

> 现在主流的NoSQL数据库有**MongoDB**和**Redis**以及BigTable、Hbase、Cassandra、SimpleDB、CouchDB、等。

接下来，将关注NoSQL数据库到底存在哪些优缺点。

# NoSQL的优缺点

在优势方面，主要体现在下面这三点： 

- 简单的扩展：典型例子是Cassandra，由于其架构是类似于经典的P2P，所以能通过轻松地添加新的节点来扩展这个集群; 
- 快速的读写：主要例子有redis，由于其逻辑简单，而且纯内存操作，使得其性能非常出色，单节点每秒可以处理超过10万次读写操作; 
- 低廉的成本：这是大多数分布式数据库共有的特点，因为主要都是开源软件，没有昂贵的License成本; 

但瑕不掩瑜，NoSQL数据库还存在着很多的不足，常见主要有下面这几个： 

- 不提供对SQL的支持：如果不支持SQL这样的工业标准，将会对用户产生一定的学习和应用迁移成本; 
- 支持的特性不够丰富：现有产品所提供的功能都比较有限，大多数NoSQL数据库都不支持事务，也不像MS SQL Server和Oracle那样能提供各种附加功能，比如BI和报表等; 
- 现有产品的不够成熟：大多数产品都还处于初创期，和关系型数据库几十年的完善不可同日而语; 

上面NoSQL产品的优缺点都是些比较共通的，在实际情况下，每个产品都会根据自己所遵从的数据模型和CAP理念而有所不同.